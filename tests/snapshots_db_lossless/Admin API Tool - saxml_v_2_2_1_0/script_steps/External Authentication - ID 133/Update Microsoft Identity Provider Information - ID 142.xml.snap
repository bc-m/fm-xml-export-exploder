---
source: src/main.rs
expression: output_content
---
<Script>
	<ScriptReference id="142" name="Update Microsoft Identity Provider Information" UUID="D7041BF4-FFD0-4E0D-9BCF-1E937B445B9F"></ScriptReference>
	<ObjectList membercount="33">
		<Step index="0" id="89" name="# (Kommentar)" enable="True">
			<UUID>F99EA548-22C9-47B2-BEB9-E9C37CCFDF8C</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" PURPOSE: Update Microsoft Identity Provider Information"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="1" id="89" name="# (Kommentar)" enable="True">
			<UUID>5BE93718-985B-4DFB-A8D8-CA1BEE4A2412</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" HISTORY:&#13;   - Created:   2018-05-09 by Mike Duncan (mduncan@soliantconsulting.com)&#13;   - Modified:  2019-04-23 by Mike Duncan, update to v2 admin api"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="2" id="89" name="# (Kommentar)" enable="True">
			<UUID>0B0B044B-76C7-4503-B167-07F4F23FB3BE</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="3" id="85" name="AnwenderAbbruchZulassen setzen" enable="True">
			<UUID>02782F83-934A-453A-B367-BE5AB3C89680</UUID>
			<OwnerID></OwnerID>
			<Options>196608</Options>
			<ParameterValues membercount="1">
				<Parameter type="Boolean">
					<Boolean id="131072" value="True"></Boolean>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="4" id="86" name="Fehleraufzeichnung setzen" enable="True">
			<UUID>FFC872D8-1C0B-4411-A2BB-10A8BD68403A</UUID>
			<OwnerID></OwnerID>
			<Options>196608</Options>
			<ParameterValues membercount="1">
				<Parameter type="Boolean">
					<Boolean id="131072" value="True"></Boolean>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="5" id="141" name="Variable setzen" enable="True">
			<UUID>976AA5A6-FD0E-4740-9147-3B0CF588BF2C</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA[0]]></Text>
								<ChunkList hash="9BF55A5D51230A8EA20D4BAA0F468EEC">
									<Chunk type="NoRef">0</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$error"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="6" id="89" name="# (Kommentar)" enable="True">
			<UUID>B03693B2-1506-4A13-A177-3EF8FBA6652D</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="7" id="89" name="# (Kommentar)" enable="True">
			<UUID>DF4D4C26-93C6-4FD6-B756-CCE11FFD7B49</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="8" id="89" name="# (Kommentar)" enable="True">
			<UUID>4FB0E53B-3659-48B0-8077-BAA6948500B0</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" SET-UP"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="9" id="89" name="# (Kommentar)" enable="True">
			<UUID>5D07383A-20F3-4A9A-846A-4781CBAD1DF3</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="10" id="1" name="Script ausführen" enable="True">
			<UUID>0C3ECF53-5FFE-474E-B42E-398D8C0E6B95</UUID>
			<OwnerID></OwnerID>
			<Options>64</Options>
			<ParameterValues membercount="2">
				<Parameter type="List">
					<List name="Aus Liste" value="1">
						<ScriptReference id="35" name="Set Config" UUID="6E806D84-9200-44AE-B032-89A6016326FF"></ScriptReference>
					</List>
				</Parameter>
				<Parameter type="Parameter">
					<Parameter></Parameter>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="11" id="141" name="Variable setzen" enable="True">
			<UUID>D0CD99EF-C98E-4474-AC5F-69FC72CEFE5B</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA["/extauth/provider/microsoft"]]></Text>
								<ChunkList hash="E8655306BA568335119462C6017353E6">
									<Chunk type="NoRef">&quot;/extauth/provider/microsoft&quot;</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$endpoint"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="12" id="141" name="Variable setzen" enable="True">
			<UUID>C438C23D-DF3E-45D7-8F8A-716470DDFF08</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA[JSONSetElement ( ""   ;[ "AzureID"; FMS__fmserver::AzureID ; JSONString ]  ;[ "AzureKey"; FMS__fmserver::AzureKey ; JSONString ]  ;[ "AzureDirectoryID"; FMS__fmserver::AzureDirectoryID ; JSONString ] )]]></Text>
								<ChunkList hash="986F248E7A54B2D3EF1264D399567F9A">
									<Chunk type="FunctionRef">JSONSetElement</Chunk>
									<Chunk type="NoRef"> ( &quot;&quot; &#13;  ;[ &quot;AzureID&quot;; </Chunk>
									<Chunk type="FieldRef">
										<FieldReference id="142" name="AzureID" repetition="1" UUID="1C5B645E-6677-444E-A16F-145738924F38">
											<TableOccurrenceReference id="1065089" name="FMS__fmserver" UUID="597569C5-24CD-486D-84D6-D79B9D3BDD5B"></TableOccurrenceReference>
										</FieldReference>
									</Chunk>
									<Chunk type="NoRef"> ; </Chunk>
									<Chunk type="FunctionRef">JSONString</Chunk>
									<Chunk type="NoRef"> ]&#13;  ;[ &quot;AzureKey&quot;; </Chunk>
									<Chunk type="FieldRef">
										<FieldReference id="143" name="AzureKey" repetition="1" UUID="A76162F6-E1D4-456E-993C-1BDEF9FBF486">
											<TableOccurrenceReference id="1065089" name="FMS__fmserver" UUID="597569C5-24CD-486D-84D6-D79B9D3BDD5B"></TableOccurrenceReference>
										</FieldReference>
									</Chunk>
									<Chunk type="NoRef"> ; </Chunk>
									<Chunk type="FunctionRef">JSONString</Chunk>
									<Chunk type="NoRef"> ]&#13;  ;[ &quot;AzureDirectoryID&quot;; </Chunk>
									<Chunk type="FieldRef">
										<FieldReference id="144" name="AzureDirectoryID" repetition="1" UUID="654DB96F-9485-4EA4-BDC9-1D7A0A8B31B5">
											<TableOccurrenceReference id="1065089" name="FMS__fmserver" UUID="597569C5-24CD-486D-84D6-D79B9D3BDD5B"></TableOccurrenceReference>
										</FieldReference>
									</Chunk>
									<Chunk type="NoRef"> ; </Chunk>
									<Chunk type="FunctionRef">JSONString</Chunk>
									<Chunk type="NoRef"> ]&#13; )</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$json"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="13" id="141" name="Variable setzen" enable="True">
			<UUID>24D5575C-03D5-4E6D-8B88-19BD27FF857C</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA[" --request PATCH" &" --header \"Authorization: Bearer " & $$my.token & "\"" &" --header \"Content-Type: application/json\"" &" --data @$json" &" --dump-header $$my.headers"]]></Text>
								<ChunkList hash="6647F483744AACEB16B9320A2A818240">
									<Chunk type="NoRef">&quot; --request PATCH&quot; &amp;&#13;&quot; --header \&quot;Authorization: Bearer &quot; &amp; </Chunk>
									<Chunk type="VariableReference">$$my.token</Chunk>
									<Chunk type="NoRef"> &amp; &quot;\&quot;&quot; &amp;&#13;&quot; --header \&quot;Content-Type: application/json\&quot;&quot; &amp;&#13;&quot; --data @$json&quot; &amp;&#13;&quot; --dump-header $$my.headers&quot;</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$curloptions"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="14" id="89" name="# (Kommentar)" enable="True">
			<UUID>78E51823-F5E4-421D-BF62-8450ADD3EC26</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="set api update variable"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="15" id="141" name="Variable setzen" enable="True">
			<UUID>CB25C140-B2D6-4C47-B113-EBE74F4AFB70</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA["1"]]></Text>
								<ChunkList hash="E42599A078EF5CBB8E2C8EC3C24F3514">
									<Chunk type="NoRef">&quot;1&quot;</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$$API.UPDATE"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="16" id="89" name="# (Kommentar)" enable="True">
			<UUID>189E420A-6B0B-4E78-8341-72E18336C298</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="17" id="89" name="# (Kommentar)" enable="True">
			<UUID>DB5D2DD1-F88C-470E-B242-012D427D7D63</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="18" id="89" name="# (Kommentar)" enable="True">
			<UUID>CC8A254D-6765-485D-919B-5ABE130BAFD3</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" PROCESS"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="19" id="89" name="# (Kommentar)" enable="True">
			<UUID>592EDDCB-271F-4903-A342-1532EC7D54FD</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="20" id="160" name="Aus URL einfügen" enable="True">
			<UUID>DEE2BF73-99A5-41B9-8F62-5E10390AB513</UUID>
			<OwnerID></OwnerID>
			<Options>20613</Options>
			<ParameterValues membercount="6">
				<Parameter type="Boolean">
					<Boolean type="SSL-Zertifikate verifizieren" id="268435456" value="False"></Boolean>
				</Parameter>
				<Parameter type="Boolean">
					<Boolean type="Auswahl" id="4096" value="True"></Boolean>
				</Parameter>
				<Parameter type="Boolean">
					<Boolean type="Mit Dialog" id="128" value="False"></Boolean>
				</Parameter>
				<Parameter type="Target">
					<Variable value="$$my.result">
						<repetition value="1"></repetition>
					</Variable>
				</Parameter>
				<Parameter type="URL">
					<URL autoEncode="True">
						<Calculation datatype="1" position="0">
							<Calculation>
								<Text><![CDATA[$$server & $endpoint]]></Text>
								<ChunkList hash="9EA92AEF077FA44AE68308694556F8CB">
									<Chunk type="VariableReference">$$server</Chunk>
									<Chunk type="NoRef"> &amp; </Chunk>
									<Chunk type="VariableReference">$endpoint</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</URL>
				</Parameter>
				<Parameter type="Calculation">
					<Calculation datatype="1" position="1">
						<Calculation>
							<Text><![CDATA[$curloptions]]></Text>
							<ChunkList hash="205B4DA1BAD160DEDA31FE70167BBA78">
								<Chunk type="VariableReference">$curloptions</Chunk>
							</ChunkList>
						</Calculation>
					</Calculation>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="21" id="1" name="Script ausführen" enable="True">
			<UUID>4784BDDE-BACE-47B0-8339-5A32FBDA8DC5</UUID>
			<OwnerID></OwnerID>
			<Options>64</Options>
			<ParameterValues membercount="2">
				<Parameter type="List">
					<List name="Aus Liste" value="1">
						<ScriptReference id="31" name="Handle response" UUID="44FA18ED-6DEA-4F32-BDDB-09F438F6D005"></ScriptReference>
					</List>
				</Parameter>
				<Parameter type="Parameter">
					<Parameter></Parameter>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="22" id="89" name="# (Kommentar)" enable="True">
			<UUID>727CC849-E9CE-4A43-84FB-2C2585099D0F</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="23" id="89" name="# (Kommentar)" enable="True">
			<UUID>9DBAE989-7DDE-4BFC-8868-0D32F76DE752</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="24" id="89" name="# (Kommentar)" enable="True">
			<UUID>0F336284-D9BB-4D74-8125-58CB6727BE0E</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" CLEAN UP"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="25" id="89" name="# (Kommentar)" enable="True">
			<UUID>40D43094-74DF-4A1B-8283-4C84F41EA05F</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value="-------------------------------------------------------------"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="26" id="68" name="Wenn" enable="True">
			<UUID>91296D8A-5E02-4CD4-89A6-2DA86324EB54</UUID>
			<OwnerID></OwnerID>
			<Options>16384</Options>
			<ParameterValues membercount="1">
				<Parameter type="Calculation">
					<Calculation datatype="7" position="0">
						<Calculation>
							<Text><![CDATA[$error = 0]]></Text>
							<ChunkList hash="CE3C173E2CD2554CBB236CEE7C56CBB6">
								<Chunk type="VariableReference">$error</Chunk>
								<Chunk type="NoRef"> = 0</Chunk>
							</ChunkList>
						</Calculation>
					</Calculation>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="27" id="89" name="# (Kommentar)" enable="True">
			<UUID>FA3E9377-C685-49E0-9F08-DCEDDF6B8B9E</UUID>
			<OwnerID></OwnerID>
			<Options>4</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment value=" set to exit true if you do not need to pass an error"></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="28" id="141" name="Variable setzen" enable="True">
			<UUID>1F2863D3-BC6F-47EA-A6F5-7AEC1785E2FA</UUID>
			<OwnerID></OwnerID>
			<Options>16388</Options>
			<ParameterValues membercount="1">
				<Parameter type="Variable">
					<value>
						<Calculation datatype="1" position="1">
							<Calculation>
								<Text><![CDATA[1 // exit true]]></Text>
								<ChunkList hash="DC134DF247804ECF23193E2024A59A1B">
									<Chunk type="NoRef">1 // exit true</Chunk>
								</ChunkList>
							</Calculation>
						</Calculation>
					</value>
					<Name value="$error"></Name>
					<repetition></repetition>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="29" id="70" name="Ende (wenn)" enable="True">
			<UUID>F574370A-690E-4126-BAC8-E9275175B317</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
		</Step>
		<Step index="30" id="89" name="# (Kommentar)" enable="True">
			<UUID>38E666F0-5A61-4D15-B70A-7CEA672BCB70</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="31" id="103" name="Aktuelles Script verlassen" enable="True">
			<UUID>49E0769A-01D8-420A-A413-8B85C97B7BDA</UUID>
			<OwnerID></OwnerID>
			<Options>16384</Options>
			<ParameterValues membercount="1">
				<Parameter type="Calculation">
					<Calculation datatype="1" position="0">
						<Calculation>
							<Text><![CDATA[$error]]></Text>
							<ChunkList hash="926F59D0E89012933FB1C2137ABF78F1">
								<Chunk type="VariableReference">$error</Chunk>
							</ChunkList>
						</Calculation>
					</Calculation>
				</Parameter>
			</ParameterValues>
		</Step>
		<Step index="32" id="89" name="# (Kommentar)" enable="True">
			<UUID>2E5BABF8-E12C-47B9-A0DA-8ACEAABBC472</UUID>
			<OwnerID></OwnerID>
			<Options>0</Options>
			<ParameterValues membercount="1">
				<Parameter type="Comment">
					<Comment></Comment>
				</Parameter>
			</ParameterValues>
		</Step>
	</ObjectList>
</Script>
